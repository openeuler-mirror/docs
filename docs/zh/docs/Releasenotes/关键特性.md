# 关键特性<a name="ZH-CN_TOPIC_0228254580"></a>

## 全新的5.10内核
深度优化调度、IO、内存管理，提供Arm64、x86、RISC-V等更多算力支持。

-   **调度器优化**，优化了 CFS Task 的公平性，新增 numa aware 异步调用机制，在 NVDIMM 初始化方面有明显的提升；优化 SCHED_IDLE 的调度策略，显著改善高优先级任务的调度延迟，降低对其他任务的干扰。
-   **numa balancing 机制优化**，带来更好的亲和性、更高的使用率和更少的无效迁移。
-   **CPU 隔离机制增强**，支持中断隔离，支持 unbound kthreads 隔离，增强 CPU 核的隔离性，可以更好的避免业务间的相互干扰。
-   **cgroup单线程迁移性能优化**，消除对 thread group 读写信号量的依赖；引入Time Namespaces 使容器迁移更方便。 
-   **系统容器限制容器内使用文件句柄数能力支持**，文件句柄包括普通文件句柄和网络套接字，启动容器时，可以通过指定`--files-limit`参数限制容器内打开的最大句柄数。
-   **PSI 能力支持**，PSI (Pressure Stall Information)提供了一种评估系统资源如 CPU、Memory、IO 压力的方法。准确的检测方法可以帮助资源使用者确定合适的工作量，同时也可以帮助系统制定高效的资源调度策略，最大化利用系统资源，最大化改善用户体验。
-   **进程间通信优化**，pipe/epoll_wait 唤醒机制优化，解决唤醒多个等待线程的性能问题。
-   **内存管理增强**，精细化内存控制、统计，异构内存，热插拔、内存初始化等功能均有改善，并提供更有效的用户控制接口; 热点锁及信号量优化，激进内存规整和碎片整理，优化vmap/vmalloc机制，显著提升内存申请效率提升; KASAN、kmemleak、slub_debug、oom等内存维测特性增强，提升内存问题定位及解决效率。
-   **Early Departure Time模型切换**，解决了原来发包过程中TCP框架的限制，根据调度策略给数据包设置EDT时间戳，避免大的队列缓存带来的时延，带来tcp性能的较大提高。
-   **MultiPath TCP 支持**，可在移动与数据场景提升性能和可靠性，支持在负载均衡场景多条子流并行传输。
-   **日志 fast commit 方法引入**，EXT4 引入了新的、更轻量级的日志方法 `-fast commit`，可以大大加快 `fsync` 等耗时较长的操作，带来更好的性能。
-   **支持dm writecache 特性**，提升 SSD 大块顺序写性能，提高 DDR 持久性内存的性能。
-   **支持 io_uring**， io_uring 是一个新的异步IO框架和实现，支持 polling 模式，在polling模式下，性能提升显著，与spdk接近，在队列深度较高时性能更好。
-   **支持 ILP32**， 在鲲鹏920 Arm64 环境上支持 32 位的应用程序。
-   **IMA 商用增强**，在开源 IMA 方案基础上，增强安全性、提升性能、提高易用性，助力商用落地。
-   **支持 per task 栈检查**，增强对 ROP 攻击的防护能力。
-   **MPAM资源管控**，支持 Arm64架构Cache QoS 以及内存带宽控制技术。
-   **支持基于 SEDI 的 NMI 机制和基于 PMU 的 NMI 机制**，使能 hard lockup 检测；使能 perf nmi，能更精确的进行性能分析。
-   **Arm64 平台支持虚拟机 CPU 热插拔**，提高资源配置的灵活性。
-   **Arm64 kdump 增强**, 支持对 4G 以上地址的内存预留，使 kdump 能预留更多的内存空间，支持更大内存的机器。
-   **支持 Raspberry PI 系列板卡**，树莓派的支持已经合入原生的 openEuler 21.03 内核，可以直接使用 openEuler 21.03 内核源码调试。
-   **RISC-V 平台支持 KVM 虚拟化**
-   **支持 1822 智能网卡**

## 内核热升级
内核热升级是一种 OS 漏洞修复及升级解决方案，实现内核快速热替换，业务不感知。

-  **Cpu Park、Quick Kexec 特性**加速系统启停，减少宕机时间，增加系统可用性。
-  **Pin Memory、Pmem 特性**保证业务进程快速准确恢复，提升业务韧性。
-  **内核热升级控制器**提供 gRPC 通信接口，容易使用。

## 分级内存管理框架
支持多种内存、存储介质统一管理，系统容量平滑扩展。

-  **冷热页面识别**，通过内核态的内存页面忙闲统计机制，精确识别进程内存页面访问冷热分布。
-  **淘汰策略可配置**，提供配置接口，可定制内存页面冷热分级策略。
-  **平滑扩展**，冷页面自动换出到扩展内存，部署在其上的软件不需要改变和适配编程方式的情况下兼容的运行。
-  **多介质扩展支持**，支持SCM、XL Flash、NVMe SSD等多种介质作为扩展内存，根据介质自身访问速度指定内存冷热分层方案，达到扩展内存并减少性能损失的目的。

## 虚拟化功能和可维测能力增强
增加热迁移 Pro 能力扩展，提升可维可测能力。

-  **热迁移Pro特性**，增强热迁移 multifd 支持 TLS，保障迁移过程数据安全；支持热迁移数据并行压缩，提升迁移性能；增加数据页面访问频率统计，支撑热迁移数据提前预测。
-  **性能调试工具(vmtop)**， 可以实时动态查看虚拟机的资源使用情况，包括CPU使用率，内存使用率等信息。新增扩展支持x86_64架构。
-  **IO悬挂支持**，IO发生错误时默认自动重试，超时会上报告警。
-  **RISC-V架构支持虚拟化热迁移**

## 轻量虚拟运行时(Stratovirt)
增加弹性内存、大页功能、系统调用过滤功能，增强IO子系统提升性能和稳定性。

-  **弹性内存支持**，根据工作负载的内存需求，实现内存的分配和回收， virtio-balloon内存回收速度达3GB/秒。
-  **大页支持**，在轻量级框架下提供大页的支持，可为轻量级虚拟机提供连续的物理内存页面，提高虚拟机内存访问效率。
-  **系统调用过滤**，简化设备模型，增加系统调用过滤支持，最简配置下仅需使用35个系统调用，有效减小系统攻击面。
-  **IO子系统增强**，支持多通道并发IO能力支持，提升性能；支持IO-QOS能力，提升虚拟机IO流量管理的灵活性和稳定性。

## OpenStack Victoria集成
简单、可大规模扩展、丰富、标准统一的云管理操作系统。更多特性，请参考OpenStack Victoria官方发行说明。

-  **集成openStack Vicoria版本**，使能基础设施即服务(IaaS)解决方案。
-  **增强块存储服务能力**，增加容量扩展、快照和虚拟机镜像克隆等高级功能。
-  **增强容器化部署和网络能力**，与容器能更好的集成。
-  **增加扩展服务支持**，支持控制面板管理、裸机部署、云资源追踪等扩展服务。

## Kubernetes 1.20 集成
用于自动部署，扩展和管理容器化应用程序的云原生操作系统它更多特性，请参考Kubernetes 1.20官方发行说明。

-  **自动上线和回滚**，Kubernetes 会自动将应用或其配置的更改后的实例上线，同时监视应用程序运行状况，失败就会回滚之前所作更改。
-  **服务发现和负载均衡**，服务发现和基于容器IP和DNS名称的负载均衡机支持。
-  **存储编排**，支持多种存储后端的自动挂载，如本地存储、NFS、iSCSI、Gluster、Ceph等网络存储系统。
-  **水平扩展**，支持命令行、UI手动操作扩展，以及基于 CPU 使用情况自动扩展方式。 

## HA 高可用集群方案
麒麟软件贡献的高可用集群方案，故障秒级切换，为用户提供业务连续性保障、数据持续保护、灾难恢复的高可用环境。

-  **支持多种保护模式**，双机热备、双机互备、多机备份(N+M）等多种保护模式支持，满足业务应用各种保护需求。
-  **物理机场景和云场景双支持**，既可以在虚拟机池中进行配置高可用，也可以对物理服务器节点进行高可用保护。
-  **支持网络（包括单心跳和双心跳模式）等心跳方式**，全方位监控共享数据资源，在极端情况下保障数据的一致性。
-  **资源损耗低**，软件消耗的系统资源少，对应用部署和资源使用安全影响小。
-  **支持主流系统服务及应用软件**，如nginx、httpd、mariaDB等，支持二次开发。
-  **支持HA-WEB人机交互接口**，如用户登录、集群状态展示、资源控制等。
-  **支持HA-API集群控制REST接口**，如后端集群控制、资源管理、集群状态监控、资源状态监控等。

## 更多桌面环境的支持
提供更多的开发桌面选择，更好的开发体验。

-  **Xfce桌面支持**，Xfce是一款轻量级 Linux 桌面，与主流UI相比对资源占用小。
-  **DDE桌面支持**，是统信软件旗下的一款linux桌面环境，具有美观，易用，高效等特点。
